<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meli Pil Blog Admin</title>
  <!-- Decap CMS -->
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: #0f0d0a;
      color: #fdfcfb;
      min-height: 100vh;
    }
    
    .admin-header {
      background: #1a1612;
      padding: 20px;
      border-bottom: 1px solid rgba(212, 175, 106, 0.15);
    }
    
    .admin-header h1 {
      color: #d4af6a;
      font-family: 'Cinzel', serif;
      letter-spacing: 2px;
    }
    
    .admin-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
  </style>
</head>
<body>
  <div class="admin-header">
    <h1>Meli Pil Blog Admin</h1>
  </div>
  
  <div class="admin-container">
    <!-- Decap CMS will inject itself here -->
  </div>
  
  <script>
    // Initialize Decap CMS
    Decap.init({
      config: {
        backend: {
          name: 'git-gateway',
          branch: 'main',
          repo: 'yourusername/melipil', // Replace with your repo
          site_domain: 'your-site.pages.dev' // Will be set after Cloudflare setup
        },
        local_backend: true, // Enable local editing
        media_folder: 'images/blog',
        public_folder: '/images/blog',
        collections: [
          {
            name: 'blog',
            label: 'Blog Posts',
            folder: '_posts',
            create: true,
            slug: '{{year}}-{{month}}-{{day}}-{{slug}}',
            fields: [
              {
                label: 'Title',
                name: 'title',
                widget: 'string',
                required: true
              },
              {
                label: 'Publish Date',
                name: 'date',
                widget: 'datetime',
                required: true
              },
              {
                label: 'Category',
                name: 'category',
                widget: 'select',
                options: ['Transformation', 'Self-Discovery', 'Integration', 'Healing', 'Mindfulness'],
                required: true
              },
              {
                label: 'Featured Image',
                name: 'image',
                widget: 'image',
                required: true,
                choose_url: true,
                default: '/images/blog/default.jpg'
              },
              {
                label: 'Excerpt',
                name: 'excerpt',
                widget: 'text',
                required: true,
                hint: 'Short summary for blog listing (150-200 characters)'
              },
              {
                label: 'Body',
                name: 'body',
                widget: 'markdown',
                required: true
              }
            ]
          }
        ]
      }
    });
    
    // Register the CMS
    const CMS = Decap;
    if (typeof window !== 'undefined') {
      window.CMS = CMS;
    }
  </script>
</body>
</html>
